**Alternative method** - Uses AWS Access Keys (requires manual rotation every 90 days).

**What gets created**: An IAM user with AdministratorAccess policy and programmatic access keys.

<Warning>
**Security Note**: Static credentials don't expire and must be manually rotated. Only use this method if CloudFormation is not available in your AWS environment. For production, we strongly recommend STS Assume Role.
</Warning>

**Setup Steps**:

1. **Open AWS IAM Console**:
   - Go to [IAM Users Console](https://console.aws.amazon.com/iam/home#/users)
   - Click **Create user**

2. **Create User**:
   - User name: `qovery-admin` (or your preferred name)
   - ⚠️ **Don't** check "Provide user access to AWS Management Console"
   - Click **Next**

   <Frame>
     <img src="/images/aws-credentials/create-user-1.png" alt="Create IAM user - step 1" />
   </Frame>

3. **Attach Permissions**:
   - Select **Attach policies directly**
   - Search for **AdministratorAccess**
   - ✅ Check the **AdministratorAccess** policy
   - Click **Next**

   <Frame>
     <img src="/images/aws-credentials/create-user-2.png" alt="Attach AdministratorAccess policy" />
   </Frame>

4. **Review and Create**:
   - Review settings
   - Click **Create user**

   <Frame>
     <img src="/images/aws-credentials/create-user-3.png" alt="Review and create IAM user" />
   </Frame>

5. **Generate Access Keys**:
   - Click on the newly created **qovery-admin** user
   - Go to **Security credentials** tab
   - Scroll to **Access keys** section
   - Click **Create access key**

   <Frame>
     <img src="/images/aws-credentials/aws-create-credentials-1.png" alt="Navigate to access keys section" />
   </Frame>

6. **Select Use Case**:
   - Choose **Third-party service**
   - Check confirmation checkbox
   - Click **Next**
   - (Optional) Add description: "Qovery Production Access"
   - Click **Create access key**

   <Frame>
     <img src="/images/aws-credentials/aws-create-credentials-2.png" alt="Select third-party service use case" />
   </Frame>

7. **Save Your Credentials** ⚠️:
   - Copy **Access Key ID** (looks like: `AKIAIOSFODNN7EXAMPLE`)
   - Copy **Secret Access Key** (looks like: `wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY`)
   - **Download .csv file** as backup
   - ⚠️ **Important**: You can't view the secret key again after closing this page!

   <Frame>
     <img src="/images/aws-credentials/aws-create-credentials-3.png" alt="Copy access keys" />
   </Frame>

8. **Complete in Qovery**:
   - Back in Qovery, select **Static Credentials** option
   - Paste **Access Key ID** in first field
   - Paste **Secret Access Key** in second field
   - Give it a name like `AWS Production`
   - Click **Save**

   <Frame>
     <img src="/images/aws-credentials/aws-create-credentials-4.png" alt="Enter credentials in Qovery Console" />
   </Frame>

<AccordionGroup>
  <Accordion title="How to rotate access keys (every 90 days)">
    1. Create a new access key for the same IAM user
    2. Update credentials in Qovery with new keys
    3. Wait 24 hours to ensure all systems use new keys
    4. Delete old access key in AWS IAM console
    5. Set calendar reminder for next rotation
  </Accordion>

  <Accordion title="What if I lost my secret access key?">
    AWS doesn't allow retrieving secret keys after creation. You must:
    1. Create a new access key pair
    2. Update Qovery with new credentials
    3. Delete the old access key
  </Accordion>

  <Accordion title="Can I use a less privileged IAM user?">
    Yes, but the user needs extensive permissions to manage EKS, EC2, VPC, IAM, and other AWS services. Contact support for a minimal IAM policy template. Note that restrictive policies may cause deployment failures.
  </Accordion>
</AccordionGroup>
