---
title: "Install Qovery on AWS"
description: "Create your first Kubernetes cluster on AWS in under 30 minutes"
---

Get your first production-ready Kubernetes cluster running on AWS. This guide walks you through the entire setup from connecting AWS to deploying your cluster.

<Info>
  Already have a Kubernetes cluster? See the [BYOK guide](/getting-started/installation/kubernetes) instead.
</Info>

## What You'll Get

- âœ… Production-ready EKS cluster in ~30 minutes
- âœ… **Karpenter auto-scaling** - Save up to 60% on AWS costs
- âœ… Automatic load balancing with SSL certificates
- âœ… Spot instance support for cost optimization
- âœ… Monitoring and logging built-in
- âœ… Ready to deploy your applications

### About Karpenter

Qovery uses [Karpenter](https://karpenter.sh/) for intelligent node provisioning, which automatically selects the most cost-effective EC2 instances for your workloads:

**Key Benefits**:

- **Cost optimization** through spot instances and consolidation
- **Fast scaling** - Provisions nodes in seconds (vs minutes with traditional auto-scaling)
- **Smart instance selection** - Picks the best from your allowed instance types
- **Workload consolidation** - Packs pods efficiently to minimize node count

**How It Works**:
During setup, you **select multiple instance types** (e.g., t3.medium, t3.large, m5.xlarge, m6i.large). Karpenter then automatically chooses the best option based on:

- Your application resource requirements
- Spot vs on-demand availability
- Cost optimization across your selected instance types
- Current capacity and pricing

<Info>
  **More instance types = better optimization!** Select a variety of instance
  types (t3, m5, m6i families) to give Karpenter maximum flexibility for cost
  and availability optimization.
</Info>

## Prerequisites

<Check>You have a [Qovery account](https://console.qovery.com/signup)</Check>
<Check>You have an [AWS account](https://aws.amazon.com)</Check>
<Check>You can access the AWS Console</Check>

No AWS expertise required - we'll guide you through everything!

---

## Quick Demo

Watch this walkthrough to see the entire cluster creation process:

<div
  style={{
    position: "relative",
    boxSizing: "content-box",
    maxHeight: "80vh",
    width: "100%",
    aspectRatio: "1.80028129395218",
    padding: "40px 0",
  }}
>
  <iframe
    src="https://app.supademo.com/embed/cmhklq6m21nv2u1hm1ggy4q2r?embed_v=2&utm_source=embed"
    loading="lazy"
    title="Qovery - Create cluster"
    allow="clipboard-write"
    frameBorder="0"
    webkitallowfullscreen="true"
    mozallowfullscreen="true"
    allowFullScreen
    style={{
      position: "absolute",
      top: 0,
      left: 0,
      width: "100%",
      height: "100%",
    }}
  />
</div>

---

## Create Your Cluster

Follow these steps to create your first Qovery cluster on AWS:

<Steps>
  <Step title="Open Cluster Creation">
    1. Log into [Qovery Console](https://console.qovery.com)
    2. Go to **Organization Settings** â†’ **Clusters**
    3. Click **Create Cluster**
    4. Select **AWS** as your cloud provider

    <Frame>
      <img src="/images/install-qovery/common/add-cluster.png" alt="Create cluster in Qovery Console" />
    </Frame>

  </Step>

  <Step title="Name Your Cluster">
  - **Cluster name**: Choose a name like `production` or `my-first-cluster` -
  **Region**: Select the AWS region closest to your users (e.g., `us-east-1`)
</Step>

  <Step title="Connect AWS Account">
    Choose how to connect your AWS account to Qovery:

    <Tabs>
      <Tab title="STS Assume Role (Recommended)">
        **Most secure method** - Uses temporary credentials that auto-rotate. No access keys to manage.

        **What gets created**: A CloudFormation stack creates an IAM role with this policy:

        ```json
        {
            "Version": "2012-10-17",
            "Statement": [
                {
                    "Effect": "Allow",
                    "Action": [
                        "iam:*",
                        "s3:ListAllMyBuckets",
                        "cloudwatch:*",
                        "autoscaling:*",
                        "application-autoscaling:*",
                        "elasticloadbalancing:*",
                        "organizations:DescribeAccount",
                        "organizations:DescribeOrganization",
                        "organizations:DescribeOrganizationalUnit",
                        "organizations:DescribePolicy",
                        "organizations:ListChildren",
                        "organizations:ListParents",
                        "organizations:ListPoliciesForTarget",
                        "organizations:ListRoots",
                        "organizations:ListPolicies",
                        "organizations:ListTargetsForPolicy",
                        "dynamodb:*",
                        "ecr:*",
                        "ec2:*",
                        "elasticache:*",
                        "cloudtrail:LookupEvents",
                        "dynamodb:*",
                        "tag:GetResources",
                        "rds:*",
                        "ecs:*",
                        "eks:*",
                        "logs:*",
                        "events:DescribeRule",
                        "events:DeleteRule",
                        "events:ListRuleNamesByTarget",
                        "events:ListTargetsByRule",
                        "events:PutRule",
                        "events:PutTargets",
                        "es:AddTags",
                        "es:RemoveTags",
                        "es:ListTags",
                        "es:DeleteElasticsearchDomain",
                        "es:DescribeElasticsearchDomain",
                        "es:CreateElasticsearchDomain",
                        "events:RemoveTargets",
                        "kms:*",
                        "events:TagResource",
                        "events:UntagResource",
                        "events:ListTagsForResource"
                    ],
                    "Resource": "*"
                },
                {
                    "Action": [
                        "s3:*",
                        "sqs:*"
                    ],
                    "Effect": "Allow",
                    "Resource": [
                        "arn:aws:s3:::qovery*",
                        "arn:aws:s3:::qovery*/*",
                        "arn:aws:sqs:*:*:qovery*",
                        "arn:aws:sqs:*:*:qovery*/*"
                    ]
                }
            ]
        }
        ```

        **Setup Steps**:

        1. **Open CloudFormation**: Click this link to create the IAM role
           - [Launch CloudFormation Stack](https://console.aws.amazon.com/cloudformation/home?#/stacks/quickcreate?templateURL=https%3A%2F%2Fcloudformation-qovery-role-creation.s3.amazonaws.com%2Ftemplate.json&stackName=qovery-role-creation)
           - This opens AWS CloudFormation in a new tab (login to AWS if needed)

        2. **In AWS CloudFormation Console**:
           - Click **Next** (template is pre-filled with Qovery's requirements)
           - Stack name: Keep default `qovery-iam-role` or customize
           - Click **Next** (skip stack options)
           - Click **Next** again (skip tags)
           - âœ… **Important**: Check **"I acknowledge that AWS CloudFormation might create IAM resources"**
           - Click **Create stack**

        3. **Wait for completion** (~1 minute):
           - Status changes: `CREATE_IN_PROGRESS` â†’ `CREATE_COMPLETE`
           - Refresh page if needed

        4. **Get the Role ARN**:
           - Click on the **Outputs** tab
           - Find **RoleArn** key
           - Copy the value (looks like: `arn:aws:iam::123456789012:role/qovery-role`)

           <Frame>
             <img src="/images/aws-credentials/stack-output.png" alt="CloudFormation stack output with Role ARN" />
           </Frame>

        5. **Complete in Qovery**:
           - Back in Qovery, paste the **Role ARN**
           - Give it a name like `AWS Production`
           - Click **Save**

           <Frame>
             <img src="/images/install-qovery/aws/create-credentials.png" alt="Enter Role ARN in Qovery Console" />
           </Frame>

        <Tip>
        **Why this is recommended**: The IAM role uses AWS STS (Security Token Service) to generate temporary credentials that automatically rotate. Qovery never has access to long-lived credentials, and you can revoke access instantly by deleting the CloudFormation stack.
        </Tip>

        <AccordionGroup>
          <Accordion title="What permissions does Qovery need?">
            Qovery requires these AWS permissions to manage your infrastructure:
            - **EC2**: Create VPCs, subnets, security groups, and instances
            - **EKS**: Create and manage Kubernetes clusters
            - **IAM**: Create service roles for EKS and EC2
            - **ELB**: Create load balancers for your applications
            - **S3**: Store Terraform state and logs
            - **CloudWatch**: Collect logs and metrics

            You can review the full CloudFormation template before creating the stack.
          </Accordion>

          <Accordion title="Can I use a custom IAM policy?">
            Yes! For production environments, you can create a custom IAM policy with minimum required permissions. Contact support for the minimal policy template.
          </Accordion>
        </AccordionGroup>
      </Tab>

      <Tab title="Static Credentials">
        **Alternative method** - Uses AWS Access Keys (requires manual rotation every 90 days).

        <Warning>
        **Security Note**: Static credentials are long-lived and more exposed to leaks. For production, we strongly recommend STS Assume Role which provides short-lived, automatically refreshed credentials with granular access control.
        </Warning>

        **Setup Steps**:

        1. **Connect to AWS Console**:
           - Go to [AWS Console](https://console.aws.amazon.com)

        2. **Navigate to IAM**:
           - Go to **IAM** service

           <Frame>
             <img src="/images/aws-credentials/aws-my-security-credentials.png" alt="Navigate to IAM" />
           </Frame>

        3. **Create IAM User**:
           - Create one IAM user called `qovery`

           <Frame>
             <img src="/images/aws-credentials/create-user-1.png" alt="Create user - step 1" />
           </Frame>

           <Frame>
             <img src="/images/aws-credentials/create-user-2.png" alt="Create user - step 2" />
           </Frame>

           <Frame>
             <img src="/images/aws-credentials/create-user-3.png" alt="Create user - step 3" />
           </Frame>

        4. **Setup IAM Permissions**:
           - Apply the required [IAM permissions](https://www.qovery.com/docs/files/qovery-iam-aws.json) to the `qovery` user

           <Warning>
           **Download**: [IAM permissions JSON](https://www.qovery.com/docs/files/qovery-iam-aws.json)

           Or copy the policy from below:

           ```json
           {
               "Version": "2012-10-17",
               "Statement": [
                   {
                       "Effect": "Allow",
                       "Action": [
                           "iam:*",
                           "s3:ListAllMyBuckets",
                           "cloudwatch:*",
                           "autoscaling:*",
                           "application-autoscaling:*",
                           "elasticloadbalancing:*",
                           "organizations:DescribeAccount",
                           "organizations:DescribeOrganization",
                           "organizations:DescribeOrganizationalUnit",
                           "organizations:DescribePolicy",
                           "organizations:ListChildren",
                           "organizations:ListParents",
                           "organizations:ListPoliciesForTarget",
                           "organizations:ListRoots",
                           "organizations:ListPolicies",
                           "organizations:ListTargetsForPolicy",
                           "dynamodb:*",
                           "ecr:*",
                           "ec2:*",
                           "elasticache:*",
                           "cloudtrail:LookupEvents",
                           "dynamodb:*",
                           "tag:GetResources",
                           "rds:*",
                           "ecs:*",
                           "eks:*",
                           "logs:*",
                           "events:DescribeRule",
                           "events:DeleteRule",
                           "events:ListRuleNamesByTarget",
                           "events:ListTargetsByRule",
                           "events:PutRule",
                           "events:PutTargets",
                           "es:AddTags",
                           "es:RemoveTags",
                           "es:ListTags",
                           "es:DeleteElasticsearchDomain",
                           "es:DescribeElasticsearchDomain",
                           "es:CreateElasticsearchDomain",
                           "events:RemoveTargets",
                           "kms:*",
                           "events:TagResource",
                           "events:UntagResource",
                           "events:ListTagsForResource"
                       ],
                       "Resource": "*"
                   },
                   {
                       "Action": [
                           "s3:*",
                           "sqs:*"
                       ],
                       "Effect": "Allow",
                       "Resource": [
                           "arn:aws:s3:::qovery*",
                           "arn:aws:s3:::qovery*/*",
                           "arn:aws:sqs:*:*:qovery*",
                           "arn:aws:sqs:*:*:qovery*/*"
                       ]
                   }
               ]
           }
           ```
           </Warning>

           **Follow the steps in AWS console to create AWS credentials with required IAM permissions:**

           <Frame>
             <img src="/images/aws-credentials/aws-add-policy-1.jpg" alt="Add policy - step 1" />
           </Frame>

           <Frame>
             <img src="/images/aws-credentials/aws-add-policy-2.png" alt="Add policy - step 2" />
           </Frame>

           <Frame>
             <img src="/images/aws-credentials/aws-add-policy-3.jpg" alt="Add policy - step 3" />
           </Frame>

           <Frame>
             <img src="/images/aws-credentials/aws-add-policy-4.jpg" alt="Add policy - step 4" />
           </Frame>

        5. **Create Access Keys**:
           - Go to the **Security Credentials** tab of the `qovery` user
           - Click **Create access key**

           <Frame>
             <img src="/images/aws-credentials/aws-create-credentials-1.png" alt="Create access key - step 1" />
           </Frame>

           <Frame>
             <img src="/images/aws-credentials/aws-create-credentials-2.png" alt="Create access key - step 2" />
           </Frame>

           <Frame>
             <img src="/images/aws-credentials/aws-create-credentials-3.png" alt="Create access key - step 3" />
           </Frame>

           - Save the **Access Key ID** and **Secret Access Key**

           <Frame>
             <img src="/images/aws-credentials/aws-create-credentials-4.png" alt="Save credentials" />
           </Frame>

        **Well done!** You now have your AWS `access key id` and `secret access key` and your permissions are set up.
      </Tab>
    </Tabs>

  </Step>

  <Step title="Configure Network">
    In the `Features` step, select the features you want to enable on your cluster.

    If you want to manage the network layer of your cluster by yourself, you can switch VPC mode to `Deploy on my existing VPC` to use your own VPC instead of the one provided by Qovery.

    <Warning>
    These options can only be configured during cluster creation and cannot be modified later.
    </Warning>

    <Tabs>
      <Tab title="VPC managed by Qovery">
        ### Static IP

        By default, when your cluster is created, its worker nodes are allocated public IP addresses, which are used for external communication. For improved security and control, the **Static IP** feature allows you to ensure that outbound traffic from your cluster uses specific IP addresses.

        Here is what will be deployed on your cluster:
        * Nat Gateways
        * Elastic IPs
        * Private subnets

        Once set up, here is the procedure to find your static IP addresses on `AWS`:
        - On your AWS account, select the VPC service.
        - On the left menu, you'll find Elastic IP addresses. Once on it, in the Allocated IPv4 address column, you'll have your public IPs.

        <Info>
        If you work in a sensitive business area such as financial technology, enabling the **Static IP** feature can help fulfil the security requirements of some of the external services you use, therefore making it easier for you to get whitelisted by them.

        This feature has been activated by default. Since February 1, 2024, AWS charge public IPv4 Addresses. Disabling it may cost you more, depending on the number of nodes in your cluster. Check this [link](https://aws.amazon.com/blogs/aws/new-aws-public-ipv4-address-charge-public-ip-insights/) for more information.
        </Info>

        ### Custom VPC Subnet

        Virtual Private Cloud (VPC) peering allows you to set up a connection between your Qovery VPC and another VPC on your AWS account. This way, you can access resources stored on your AWS VPC directly from your Qovery applications.

        A VPC can only be used if it has at least one range of IP addresses called a **subnet**. When you create a cluster, Qovery automatically picks a default subnet for it. However, to perform VPC peering, you may want to define which specific VPC subnet you want to use, so that you can avoid any conflicting settings. To do so, you can enable the **Custom VPC Subnet** feature on your cluster. For more information on how to set up VPC peering, [see our dedicated tutorial](/configuration/integrations/aws/vpc-peering).
      </Tab>

      <Tab title="Use your existing VPC">
        ### Use Existing VPC

        You have to specify the `VPC id` and ensure that in your VPC settings you have enabled the `DNS hostnames`.

        Then you have to specify the different subnets ids:

        **EKS**:

        The EKS subnets are mandatory, you have to specify at least **one subnet id per zone** and ensure you have enabled the **auto-assign public IPv4 address** setting on your subnets.

        You'll also need to set up the following labels on your subnets:

        * On public subnets: add a label `kubernetes.io/role/elb` with the value `1` to allow the ALB controller to run on this subnet.
        * On private subnets: add a label `kubernetes.io/role/internal-elb` with the value `1` to allow the ALB controller to run on this subnet.
        * On all subnets: add a label `kubernetes.io/cluster/<cluster-name>` with the value `shared` to allow the ALB controller to run on this subnet.

        **Managed databases**:

        This section is exclusively for enabling managed databases (container databases will be enabled by default).

        Depending on the managed databases you want to you use (**MongoDB**, **RDS:MySQL/PostgreSQL** and **Redis**), specify at least one subnet id per zone.
      </Tab>
    </Tabs>

  </Step>

  <Step title="Select Instance Types">
    **Select instance types** that Karpenter can choose from for your workloads.

    <Info>
    Karpenter automatically picks the **best instance type** from your selections based on:
    - Pod resource requirements (CPU/memory)
    - Current spot availability and pricing
    - Cost optimization
    - Workload constraints

    **More instance types = better optimization and flexibility!**
    </Info>

    **How to Select:**
    You can filter and select instances by:
    - **Instance Family**: t3, t3a, m5, m6i, c5, c6i, r5, r6i, etc.
    - **Size**: medium, large, xlarge, 2xlarge, etc.
    - **Architecture**: x86_64 or ARM (Graviton - t4g, m6g, c6g)
    - **Generation**: Latest generations (m6i, m7i, c6i, c7i) are more cost-effective

    **Tips for Selection:**
    - **Start broad**: Select multiple families and sizes
    - **Mix families**: Combine general purpose (t3, m5), compute (c5), memory (r5)
    - **Include multiple sizes**: Give Karpenter flexibility to bin-pack efficiently
    - **Consider Graviton**: ARM-based instances offer better price/performance

    <Tip>
    Enable **spot instances** for cost optimization. Karpenter handles interruptions gracefully and automatically falls back to on-demand if needed.
    </Tip>

    <Warning>
    Avoid selecting only one or two instance types as this limits Karpenter's ability to optimize for cost and availability. Aim for 10-20 instance types.
    </Warning>

    You can adjust these selections later in cluster settings!

  </Step>

  <Step title="Review and Create">
    Review your settings and click **Create and Deploy**

    Your cluster will now be created automatically!

  </Step>
</Steps>

---

<AccordionGroup>
  <Accordion title="What Qovery Creates for You" icon="list-check">
    When you create a cluster, Qovery automatically provisions a complete, production-ready infrastructure:

    ### Network Architecture

    - âœ… **Dedicated VPC** - Multi-AZ VPC isolating your infrastructure
    - âœ… **Subnets & Routing** - Public/private subnets across 3 availability zones with routing tables
    - âœ… **Internet Gateway** - For outbound container connectivity
    - âœ… **Network Load Balancer** - Redirects HTTPS traffic to Nginx Ingress
    - âœ… **NAT Gateways (Optional)** - With Elastic IPs for static outbound addresses
    - âœ… **Database Networks** - Dedicated security groups and subnets for:
      - RDS (relational databases)
      - DocumentDB (document storage)
      - ElastiCache (cache layers)

    ### Kubernetes Infrastructure

    - âœ… **EKS Cluster** - Multi-AZ, latest stable Kubernetes version
    - âœ… **Managed Worker Nodes** - AWS-managed EC2 instances with Karpenter
    - âœ… **Security Groups** - Dual authentication for EKS remote access (TLS + IAM authenticator)
    - âœ… **IAM Components**:
      - EBS CSI driver access for persistent volumes
      - IAM User Sync for Kubernetes authentication
      - Cluster Autoscaler permissions
      - EKS CNI and EC2 Container Registry policies

    ### Installed Components

    - âœ… **Karpenter** - Intelligent auto-scaling for cost optimization
    - âœ… **AWS Load Balancer Controller** - Automatic ingress management
    - âœ… **EBS CSI Driver** - Persistent volume support
    - âœ… **Metrics Server** - Resource monitoring
    - âœ… **Qovery Agent** - Observability and management

    ### Storage & Logging

    - âœ… **KMS-Encrypted S3 Buckets** - For:
      - Application logs
      - Kubeconfig storage (versioned, private)
    - âœ… **CloudWatch Log Groups** - Cluster diagnostics and logging

    ### Karpenter Auto-Scaling

    Qovery uses [Karpenter](https://karpenter.sh/) for intelligent node provisioning, which can **save up to 60% on AWS costs**:

    **How Karpenter Works**:
    - Automatically provisions optimal EC2 instances based on your workload requirements
    - Scales nodes up within seconds when pods need resources
    - Consolidates workloads onto fewer nodes to reduce costs
    - Handles spot instance interruptions gracefully

    **Default Configuration**:
    - **Stable Node Pool**: For Qovery system components (single instance, on-demand)
    - **Default Node Pool**: For your applications (auto-scaling, mixed on-demand/spot)
    - **Optional GPU Node Pool**: For ML/AI workloads (if enabled)

    **Instance Type Selection**:
    Karpenter can provision from a wide range of instance types:
    - **General Purpose**: t3, m5, m6i, m6g (Graviton ARM)
    - **Compute Optimized**: c5, c6i, c6g (Graviton ARM)
    - **Memory Optimized**: r5, r6i, r6g (Graviton ARM)
    - **GPU Instances**: g4dn, g5 (if GPU node pool enabled)

    **Cost Optimization with Spot Instances**:
    - Enable spot instances for significant cost reduction
    - Karpenter automatically handles spot interruptions
    - Mix of spot and on-demand for reliability

    <Tip>
    You can configure Karpenter settings after cluster creation in **Cluster Settings** â†’ **Node Pools**. Learn more in the [Cluster Configuration](/configuration/clusters) guide.
    </Tip>

  </Accordion>
</AccordionGroup>

---

## Wait for Cluster to Be Ready

**Cluster creation takes 20-30 minutes.** Here's what's happening:

| Step                 | Time      | What's Being Created          |
| -------------------- | --------- | ----------------------------- |
| 1. Networking        | 3-5 min   | VPC, subnets, security groups |
| 2. EKS Control Plane | 10-15 min | Kubernetes master nodes       |
| 3. Worker Nodes      | 5-10 min  | EC2 instances for your apps   |
| 4. Qovery Components | 3-5 min   | Ingress, monitoring, logging  |

<Info>
  **You'll receive an email when your cluster is ready!** Feel free to close
  this page.
</Info>

**While you wait:**

- â˜• Grab a coffee
- ðŸ“– Learn about [deploying your first app](/guides/getting-started/deploy-your-first-application)
- ðŸ‘¥ [Invite your team](/configuration/organization/members-rbac)
- ðŸ”— [Connect Git](/integrations/git-providers/overview)

---

## Next: Deploy Your First Application

Once your cluster shows **Ready** status:

<CardGroup cols={2}>
  <Card title="Deploy Your First App" icon="rocket" href="/getting-started/guides/getting-started/deploy-your-first-application">
    Step-by-step guide to deploy from Git
  </Card>

  <Card
    title="Connect Database"
    icon="database"
    href="/getting-started/guides/getting-started/connect-database"
  >
    Add PostgreSQL, MySQL, MongoDB, or Redis
  </Card>

  <Card
  title="Configure Domain"
  icon="globe"
  href="/getting-started/guides/advanced-tutorials/cloudflare-custom-domain"
>
  Use your own domain name
</Card>

  <Card title="Invite Team" icon="users" href="/configuration/organization/members-rbac">
    Add team members with permissions
  </Card>
</CardGroup>

---

## Troubleshooting

<AccordionGroup>
  <Accordion title="CloudFormation stack fails">
    **Most common causes:**
    - AWS account doesn't have permissions to create IAM roles
    - AWS region doesn't support EKS

    **Solution**: Make sure you're logged in as AWS admin or have IAM permissions.

  </Accordion>

  <Accordion title="Can't find the Role ARN">
    1. Go to AWS CloudFormation console
    2. Find your stack (status should be CREATE_COMPLETE)
    3. Click the **Outputs** tab
    4. Copy the value next to "RoleArn"
  </Accordion>

  <Accordion title="Cluster creation is stuck">
    If your cluster stays in "Creating" status for more than 45 minutes:
    - Check AWS service quotas (especially EC2 instances)
    - Try a different AWS region
    - [Contact support](/getting-started/useful-resources/help-and-support)
  </Accordion>

  <Accordion title="Credentials not working">
    **For STS Assume Role**:
    - Verify CloudFormation stack created successfully
    - Check RoleArn is copied correctly (starts with `arn:aws:iam::`)
    - Ensure AWS account has permissions to create IAM roles

    **For Static Credentials**:
    - Verify IAM user has AdministratorAccess policy
    - Check Access Key ID and Secret Access Key are correct
    - Ensure keys are not disabled or expired

  </Accordion>
</AccordionGroup>
