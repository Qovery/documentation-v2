---
title: "Setting Up Cloudflare and Custom Domain on Qovery"
description: "Configure Cloudflare as a domain provider for your Qovery applications"
---

This tutorial guides you through configuring Cloudflare as a domain provider for applications deployed on Qovery. The process involves adding a custom domain and establishing proper DNS and SSL/TLS settings.

## Prerequisites

- Active Qovery application
- Domain ownership on Cloudflare or registrar
- Access to Cloudflare DNS settings

## Step 1: Add a Custom Domain

1. Access your application settings in Qovery Console
2. Navigate to the **Domains** section
3. Enter your Cloudflare-managed domain
4. **Critical**: Enable the **"Domain behind a CDN"** toggle

<Info>
Enabling "Domain behind a CDN" automatically disables certificate generation since Cloudflare handles SSL/TLS management.
</Info>

<Frame>
  <img src="/images/cloudflare/1.png" alt="Add custom domain" />
</Frame>

## Step 2: Configure Cloudflare DNS

### Add CNAME Entry

1. Go to Cloudflare DNS settings
2. Add a CNAME entry using values provided by the Qovery Console
3. The proxy mode can remain enabled

<Frame>
  <img src="/images/cloudflare/2.png" alt="Cloudflare CNAME configuration" />
</Frame>

<Frame>
  <img src="/images/cloudflare/3.png" alt="CNAME record details" />
</Frame>

## Step 3: Configure SSL/TLS Settings

The last step to configure the domain Cloudflare side properly is to use the **Full** TLS encryption for proper custom domain functionality.

1. Navigate to **SSL/TLS** settings in Cloudflare
2. Select **Full** encryption mode

<Frame>
  <img src="/images/cloudflare/4.png" alt="SSL/TLS Full encryption" />
</Frame>

<Warning>
Using "Flexible" encryption mode will not work properly with Qovery. Always use "Full" or "Full (strict)" mode.
</Warning>

## Step 4: Access Restriction Options

You have two options for restricting access to your application:

### Option 1: IP Whitelisting

Add Cloudflare IP ranges to Qovery's advanced settings to allow only Cloudflare traffic.

<Frame>
  <img src="/images/cloudflare/5.png" alt="IP whitelisting configuration" />
</Frame>

### Option 2: Cloudflared Tunnel

Cloudflared establishes outbound tunnels between resources and Cloudflare's network, enabling tunnel-based access without public exposure.

<Frame>
  <img src="/images/cloudflare/6.png" alt="Cloudflared tunnel setup" />
</Frame>

<Frame>
  <img src="/images/cloudflare/7.png" alt="Tunnel configuration" />
</Frame>

## Verification

Once configured, your application should be accessible via your custom domain through Cloudflare's network.

<Frame>
  <img src="/images/cloudflare/8.png" alt="Domain verification" />
</Frame>

<Frame>
  <img src="/images/cloudflare/9.png" alt="SSL certificate verification" />
</Frame>

---

## Additional Configuration

### Advanced Cloudflare Features

You can leverage Cloudflare's additional features:

<Frame>
  <img src="/images/cloudflare/10.png" alt="Cloudflare WAF" />
</Frame>

<Frame>
  <img src="/images/cloudflare/11.png" alt="Firewall rules" />
</Frame>

<Frame>
  <img src="/images/cloudflare/12.png" alt="Page rules" />
</Frame>

<Frame>
  <img src="/images/cloudflare/13.png" alt="Analytics dashboard" />
</Frame>

---

## Troubleshooting

<AccordionGroup>
  <Accordion title="Domain not resolving">
    - Verify CNAME record is correct
    - Check DNS propagation (can take up to 48 hours)
    - Ensure proxy mode is enabled in Cloudflare
  </Accordion>

  <Accordion title="SSL/TLS errors">
    - Confirm "Full" encryption mode is selected
    - Wait for SSL certificate provisioning (5-10 minutes)
    - Check that "Domain behind a CDN" toggle is enabled in Qovery
  </Accordion>

  <Accordion title="502 Bad Gateway errors">
    - Verify application is running in Qovery
    - Check that the CNAME points to the correct Qovery domain
    - Ensure Cloudflare IP ranges are whitelisted if using IP restriction
  </Accordion>
</AccordionGroup>

---

## Related Documentation

<CardGroup cols={2}>
  <Card title="Custom Domains" icon="globe" href="/configuration/application">
    Learn about custom domain configuration
  </Card>

  <Card title="SSL/TLS Certificates" icon="lock" href="/getting-started/security-and-compliance/overview">
    Understand SSL/TLS certificate management
  </Card>

  <Card title="Advanced Settings" icon="sliders" href="/configuration/service-advanced-settings">
    Configure advanced service settings
  </Card>

  <Card title="Networking" icon="network-wired" href="/configuration/integrations/api-gateway-nginx">
    Learn about networking and ingress
  </Card>
</CardGroup>
